subscriptions_by_month:
  model: pipe_demo.subscriptions_by_month
  inputs:
    raw_subscription_events:
      rows:
      - user_id: "30f051a5-6cb7-4223-a9b3-865dc7dac5c2"
        event_time: "2025-02-19T21:12:47.962045"
        subscription_amount: 1006.11
        event_type: "new_subscription"
  outputs:
    query:
      rows:
      - user_id: "30f051a5-6cb7-4223-a9b3-865dc7dac5c2"
        month: "2025-02-01"  # date_trunc('month', "2025-02-19T21:12:47.962045") produces the first day of the month.
        total_subscription_amount: 1006.11
        num_events: 1
